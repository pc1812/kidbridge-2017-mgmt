!function(t){"use strict";function o(t){return{set:function(e,i){t.setItem(e,n.serialize(i))},get:function(e){return n.deserialize(t.getItem(e))},remove:function(e){t.removeItem(e)},clear:function(){t.clear()}}}var e=t.document,i={};$(t).on("load",function(){"function"==typeof FastClick&&FastClick.attach(e.body)});var n=i.util={parseOptions:function(t){if($.isPlainObject(t))return t;var e=t?t.indexOf("{"):-1,i={};if(-1!=e)try{i=new Function("","var json = "+t.substr(e)+"; return JSON.parse(JSON.stringify(json));")()}catch(t){}return i},pageScroll:function(){var t=function(t){t.preventDefault(),t.stopPropagation()},i=!1;return{lock:function(){i||(i=!0,e.addEventListener("touchmove",t))},unlock:function(){i=!1,e.removeEventListener("touchmove",t)}}}(),localStorage:function(){return o(t.localStorage)}(),sessionStorage:function(){return o(t.sessionStorage)}(),serialize:function(t){return"string"==typeof t?t:JSON.stringify(t)},deserialize:function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}}};$.fn.emulateTransitionEnd=function(t){var e=!1,i=this;$(this).one("webkitTransitionEnd",function(){e=!0});var n=function(){e||$(i).trigger("webkitTransitionEnd")};setTimeout(n,t)},"function"==typeof define?define(i):t.YDUI=i}(window),function(t){var e=t.document,i=t.YDUI,n=t.navigator&&t.navigator.userAgent||"",o=!!n.match(/(iPad).*OS\s([\d_]+)/),a=!!n.match(/(iPod)(.*OS\s([\d_]+))?/),r=!o&&!!n.match(/(iPhone\sOS)\s([\d_]+)/);i.device={isMobile:!!n.match(/AppleWebKit.*Mobile.*/)||"ontouchstart"in e.documentElement,isIOS:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),isAndroid:!!n.match(/(Android);?[\s\/]+([\d.]+)?/),isIpad:o,isIpod:a,isIphone:r,isWebView:(r||o||a)&&!!n.match(/.*AppleWebKit(?!.*Safari)/i),isWeixin:n.indexOf("MicroMessenger")>-1,isMozilla:/firefox/.test(navigator.userAgent.toLowerCase()),pixelRatio:t.devicePixelRatio||1}}(window),function(t){t.document.addEventListener("touchstart",function(t){},!1)}(window),function(t,e){"use strict";var i=e.dialog=e.dialog||{},n=$(t.document.body);i.confirm=function(t,i,o){var a="YDUI_CONFRIM";$("#"+a).remove();var r=arguments.length;if(r<2)return void console.error("From YDUI's confirm: Please set two or three parameters!!!");if("function"!=typeof arguments[1]&&2==r&&!arguments[1]instanceof Array)return void console.error("From YDUI's confirm: The second parameter must be a function or array!!!");2==r&&(o=i,i=t,t="提示");var s=o;"function"==typeof o&&(s=[{txt:"取消",color:!1},{txt:"确定",color:!0,callback:function(){o&&o()}}]);var c=$('<div class="mask-black-dialog" id="'+a+'">   <div class="m-confirm">       <div class="confirm-hd"><strong class="confirm-title">'+t+'</strong></div>       <div class="confirm-bd">'+i+"</div>   </div></div>"),l=$('<div class="confirm-ft"></div>');$.each(s,function(t,i){var n;"boolean"==typeof i.color?n=$('<a href="javascript:;" class="confirm-btn '+(i.color?"primary":"default")+'">'+(i.txt||"")+"</a>"):"string"==typeof i.color&&(n=$('<a href="javascript:;" style="color: '+i.color+'">'+(i.txt||"")+"</a>")),function(t){n.on("click",function(i){i.stopPropagation(),s[t].stay||(e.util.pageScroll.unlock(),c.remove()),s[t].callback&&s[t].callback()})}(t),l.append(n)}),c.find(".m-confirm").append(l),e.util.pageScroll.lock(),n.append(c)},i.alert=function(t,i){var o="YDUI_ALERT";$("#"+o).remove();var a=$('<div id="'+o+'">   <div class="mask-black-dialog">       <div class="m-confirm m-alert">           <div class="confirm-bd">'+(t||"YDUI Touch")+'</div>           <div class="confirm-ft">               <a href="javascript:;" class="confirm-btn primary">确定</a>           </div>       </div>   </div></div>');e.util.pageScroll.lock(),n.append(a),a.find("a").on("click",function(){a.remove(),e.util.pageScroll.unlock(),"function"==typeof i&&i()})},i.toast=function(){var t=null;return function(i,o,a,r){clearTimeout(t);var s="YDUI_TOAST";if($("#"+s).remove(),arguments.length<2)return void console.error("From YDUI's toast: Please set two or more parameters!!!");var l="";"success"!=o&&"error"!=o||(l='<div class="'+("error"==o?"toast-error-ico":"toast-success-ico")+'"></div>');var u=$('<div class="mask-white-dialog" id="'+s+'">    <div class="m-toast '+(""==l?"none-icon":"")+'">'+l+'        <p class="toast-content">'+(i||"")+"</p>    </div></div>");e.util.pageScroll.lock(),n.append(u),"function"==typeof a&&arguments.length>=3&&(r=a,a=2e3),t=setTimeout(function(){clearTimeout(t),e.util.pageScroll.unlock(),u.remove(),"function"==typeof r&&r()},(~~a||2e3)+100)}}(),i.notify=function(){var t=null;return function(e,i,o){clearTimeout(t);var a="YDUI_NOTIFY";$("#"+a).remove();var r=$('<div id="'+a+'"><div class="m-notify">'+(e||"")+"</div></div>");n.append(r);var s=function(){r.remove(),"function"==typeof o&&o()},c=function(){clearTimeout(t),r.find(".m-notify").addClass("notify-out"),r.one("webkitTransitionEnd",s).emulateTransitionEnd(150)};r.on("click",c),~~i>0&&(t=setTimeout(c,i+200))}}(),i.loading=function(){var t="YDUI_LOADING";return{open:function(i){$("#"+t).remove();var o=$('<div class="mask-white-dialog" id="'+t+'">   <div class="m-loading">       <div class="loading-icon"></div>       <div class="loading-txt">'+(i||"数据加载中")+"</div>   </div></div>").remove();e.util.pageScroll.lock(),n.append(o)},close:function(){e.util.pageScroll.unlock(),$("#"+t).remove()}}}()}(window,YDUI);